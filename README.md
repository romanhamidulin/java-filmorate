# **Задание для взаимопроверки**
Сейчас **Filmorate** хранит все данные в своей памяти. Это приводит к тому, что при перезапуске приложения его история и настройки сбрасываются. Вряд ли это обрадует пользователей!
Итак, нам нужно, чтобы данные:

- были доступны всегда,
- находились в актуальном состоянии.

А ещё важно, чтобы пользователи могли получать их быстро. Для этого вся информация должна храниться в базе данных.

В этом задании вы будете проектировать базу данных для проекта, основываясь на уже существующей функциональности.

Ваше готовое решение в этот раз проверит другой студент. Это нужно для того, чтобы вы ещё больше погрузились в новую профессию. Ведь вам предстоит работать в большой команде, а в IT любая команда считается большой, если в ней более двух разработчиков.

Такая взаимопроверка называется peer-to-peer ревью (от англ. «равный к равному»). Ревьюера вы можете выбрать сами, договорившись с ним в личных сообщениях или в чате #neformal. А ещё вы тоже примерите на себя роль ревьюера и потренируетесь:

- читать чужой код,

- конструктивно рассказывать о проблемах,

- подмечать удачные решения и давать по ним обратную связь.

Обмениваться ревью вы будете на GitHub, как это делается в настоящем рабочем процессе. О том, как будет проходить ревью и в какие сроки нужно уложиться, ваш куратор написал в Пачке в начале этого спринта.

Всю важную организационную информацию обсудили, можно приступать к заданию!
Если ваша работа не пройдёт проверку одногруппником, то ревьюер потратит одну попытку сдачи финального задания следующего спринта на проверку ER-диаграммы. Это значит, что у вас будет меньше попыток сдачи проекта Filmorate.


Изучение теории
Прочтите следующие статьи, чтобы узнать, как проектировать базы данных:

- «Нормализация баз данных простыми словами»,

- «Ненормализованная форма или нулевая нормальная форма (UNF) базы данных»,

- «Первая нормальная форма (1NF) базы данных»,

- «Вторая нормальная форма (2NF) базы данных»,

- «Третья нормальная форма (3NF) базы данных».

Если вам захочется бросить себе вызов, советуем прочитать статьи на английском:
“What is Normalization in DBMS (SQL)? 1NF, 2NF, 3NF, BCNF Database with Example”,
“Normal Forms in DBMS”.
Это поможет набрать словарь технических терминов, который пригодится вам в будущем для чтения документации.

## Доработка модели
Прежде чем приступить к созданию схемы базы данных, нужно доработать модель приложения. Сейчас сущности, с которыми работает Filmorate, имеют недостаточно полей, чтобы получилось создать полноценную базу. Исправим это!
### Film
Добавьте новое свойство — «жанр». У фильма может быть сразу несколько жанров, а у поля — несколько значений. Например, таких:

- Комедия.
- Драма.
- Мультфильм.
- Триллер.
- Документальный.
- Боевик.

Ещё одно свойство — рейтинг Ассоциации кинокомпаний (англ. Motion Picture Association, сокращённо МРА). Эта оценка определяет возрастное ограничение для фильма. Значения могут быть следующими:

- G — у фильма нет возрастных ограничений,
- PG — детям рекомендуется смотреть фильм с родителями,
- PG-13 — детям до 13 лет просмотр не желателен,
- R — лицам до 17 лет просматривать фильм можно только в присутствии взрослого,
- NC-17 — лицам до 18 лет просмотр запрещён.

### User
Добавьте статус для связи «дружба» между двумя пользователями:

- неподтверждённая — когда один пользователь отправил запрос на добавление другого пользователя в друзья,


- подтверждённая — когда второй пользователь согласился на добавление.

## Cхема базы данных
![image](https://github.com/romanhamidulin/java-filmorate/blob/main/src/main/resources/db_diagramm.png)
[Ссылка на диаграмму](https://dbdiagram.io/d/68961f3ddd90d178651f9038)

## Примеры запросов:

Получение пользователя с ID = 1:
SELECT*
FROM users
WHERE user_id = 1;
Получение фильма с ID = 10:
SELECT*
FROM films
WHERE film_id = 10.
